import{d as U,u as D,r as F,o as p,n as i,w as t,b as R,K as T,a,D as b,c as C,f as x,g as l,F as E,S as $,P as j,i as q,T as G,U as K,E as L,z as O,V as W,W as X,M as A,I as J,G as Q,X as Y,e as Z,t as u,h as m,q as ee,s as ae,v as te,y as oe,_ as se}from"./index-61080a5f.js";/* empty css                   *//* empty css               *//* empty css                 *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                *//* empty css               */const le=r=>(ee("data-v-65e71736"),r=r(),ae(),r),ne=le(()=>m("h5",{class:"mb-2"},"学院",-1)),ce={class:"span"},pe={style:{"font-size":"5px"}},re=U({__name:"CourseHome",setup(r){const k=D();let e=F({count:0,academies:[j],courses:[q],page:{code:"",page:1,search:"",select:"1",size:12}});const v=o=>{e.page.code=o,e.page.search="",e.page.page=1,n()},y=o=>{e.page.size=o,e.page.page=1,n()},z=o=>{e.page.page=o,n()},n=()=>{R.get("/api/web/course/list",{params:e.page}).then(o=>{o.data.status===!0?(e.academies=o.data.academies,e.courses=o.data.courses,e.count=o.data.count):console.log("error")}).catch(o=>{console.log(o)})};return e.academies=[],e.courses=[],n(),(o,_)=>{const g=G,S=K,f=L,c=O,d=W,V=X,w=A,I=J,B=Q,H=te,M=oe,N=Y,h=T,P=Z;return p(),i(h,{style:{height:"100%"}},{default:t(()=>[a(c,{span:4,class:"scrollbar"},{default:t(()=>[a(f,null,{default:t(()=>[ne,a(S,{"default-active":"",onSelect:v},{default:t(()=>[a(g,{index:""},{default:t(()=>[b("全部")]),_:1}),(p(!0),C(E,null,x(l(e).academies,s=>(p(),i(g,{index:s.code},{default:t(()=>[b(u(s.academy),1)]),_:2},1032,["index"]))),256))]),_:1})]),_:1})]),_:1}),a(c,{span:20,class:"scrollbar backtop"},{default:t(()=>[a(f,null,{default:t(()=>[a(h,null,{default:t(()=>[a(c,{span:24},{default:t(()=>[a(B,{modelValue:l(e).page.search,"onUpdate:modelValue":_[1]||(_[1]=s=>l(e).page.search=s),clearable:"",placeholder:"搜索课程",style:{width:"400px",margin:"10px"}},{prepend:t(()=>[a(V,{modelValue:l(e).page.select,"onUpdate:modelValue":_[0]||(_[0]=s=>l(e).page.select=s),placeholder:"Select",style:{width:"130px"}},{default:t(()=>[a(d,{label:"课程名称搜索",value:"1"}),a(d,{label:"关键词搜索",value:"2"}),a(d,{label:"混合搜索",value:"3"})]),_:1},8,["modelValue"])]),append:t(()=>[a(I,{onClick:n},{default:t(()=>[a(w,null,{default:t(()=>[a(l($))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),(p(!0),C(E,null,x(l(e).courses,s=>(p(),i(c,{span:6},{default:t(()=>[a(M,{class:"card",onClick:ue=>l(k).push(`/course/${s.id}`)},{default:t(()=>[a(H,{class:"image",src:s.img,fit:"contain"},null,8,["src"]),m("span",ce,u(s.course),1),m("span",pe,"教师："+u(s.teacher)+" 点击量："+u(s.clicks),1)]),_:2},1032,["onClick"])]),_:2},1024))),256)),a(c,{offset:8,span:12},{default:t(()=>[a(N,{"current-page":l(e).page.page,"page-size":l(e).page.size,"page-sizes":[12,24,36],total:l(e).count,background:"",layout:"sizes, prev, pager, next, jumper, total",style:{margin:"10px"},onSizeChange:y,onCurrentChange:z},null,8,["current-page","page-size","total"])]),_:1})]),_:1})]),_:1}),a(P,{right:20,bottom:50,target:".backtop .el-scrollbar__wrap"})]),_:1})]),_:1})}}});const Ee=se(re,[["__scopeId","data-v-65e71736"]]);export{Ee as default};
